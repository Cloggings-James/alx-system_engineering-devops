#!/bin/bash

# Update the system
sudo apt-get update -y

# Install nginx
sudo apt-get install nginx -y

# Create a new directory for the website
sudo mkdir /var/www/html/

# Create a new file for the website
sudo touch /var/www/html/index.html

# Add the following content to the index.html file
echo "Hello World!" > /var/www/html/index.html

# Restart nginx to apply changes
sudo service nginx restart

# Check if nginx is running
sudo service nginx status

# Check if the website is accessible
curl localhost

# Check if the website is accessible from the outside
curl 34.198.248.145/

# Check if the website is accessible from the outside with curl -sI
curl -sI 34.198.248.145/

# Check if the website is accessible from the outside with curl 127.0.0.1
curl 127.0.0.1

# Check if the website is accessible from the outside with curl -sI 127.0.0.1
curl -sI 127.0.0.1

# Check the nginx logs
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
